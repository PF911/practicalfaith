<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Download PETRA (APK) â€¢ PracticalFaith.net</title>
  <meta name="description" content="Direct download page for PETRA Android app (APK). Hosted by PracticalFaith.net." />
  <meta property="og:title" content="Download PETRA (APK)" />
  <meta property="og:description" content="Scan the QR code or tap the button to download PETRA for Android." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://practicalfaith.net/petra" />
  <meta name="theme-color" content="#ffffff" />
  <style>
    :root { --bg:#f8f9fb; --card:#ffffff; --text:#1a1a1a; --muted:#555; --accent:#1765d1; }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif; background:var(--bg); color:var(--text); display:flex; align-items:center; justify-content:center; padding:24px}
    .wrap{max-width:880px; width:100%}
    .card{background:var(--card); border:1px solid #ddd; box-shadow:0 6px 18px rgba(0,0,0,.08); border-radius:18px; padding:24px}
    header{display:flex; gap:16px; align-items:center; margin-bottom:16px}
    .logo{width:48px;height:48px;border-radius:12px;background:radial-gradient(circle at 30% 30%,#5cc8ff,#1765d1); display:grid; place-items:center; font-weight:800; color:white}
    h1{font-size:1.6rem; margin:0; color:var(--text)}
    p{margin:0; color:var(--muted)}
    .grid{display:grid; grid-template-columns: 260px 1fr; gap:24px; align-items:center}
    .qr{background:#f3f6fb; border:1px solid #ddd; padding:16px; border-radius:16px; display:grid; place-items:center}
    #qrcode{width:210px; height:210px}
    .cta{display:flex; flex-direction:column; gap:16px}
    .btn{display:inline-flex; align-items:center; justify-content:center; gap:10px; padding:14px 18px; border-radius:14px; text-decoration:none; color:white; background:var(--accent); font-weight:700; font-size:1rem; border:0; cursor:pointer}
    .btn:hover{filter:brightness(1.05)}
    .note{font-size:.95rem; line-height:1.4; color:var(--muted)}
    code{background:#f3f6fb; padding:2px 6px; border-radius:6px; color:#333}
    footer{opacity:.7; margin-top:18px; font-size:.85rem; color:var(--muted)}
    @media (max-width:740px){ .grid{grid-template-columns:1fr; } header{align-items:flex-start} }
  </style>
</head>
<body>
  <main class="wrap">
    <div class="card">
      <header>
        <div class="logo" aria-hidden="true">PF</div>
        <div>
          <h1>Download <strong>PETRA</strong> BAPTIST CHURCH APP (Android APK)</h1>
          <p>Scan the code or tap the button to install.</p>
        </div>
      </header>

      <div class="grid">
        <!-- QR CODE PANEL -->
        <div class="qr">
          <div id="qrcode" aria-label="QR code to download PETRA APK">
  <!-- No-JS fallback QR -->
  <img id="qrimg" width="210" height="210" alt="QR code to download PETRA APK" src="https://api.qrserver.com/v1/create-qr-code/?size=210x210&data=https%3A%2F%2Fpracticalfaith.net%2Fpetra.apk" />
</div>
        </div>

        <!-- ACTIONS / INFO PANEL -->
        <div class="cta">
          <a id="downloadBtn" class="btn" href="https://practicalfaith.net/petra.apk" download>
            ðŸ“¦ Download PETRA (.apk)
          </a>
          <div class="note">
            <p><strong>Having trouble installing?</strong></p>
            <ul>
              <li>On Android, go to <em>Settings â†’ Security</em> and enable <em>Install unknown apps</em> for your browser.</li>
              <li>Scan the QR code above on your Android device, or use the button to download.</li>
              <li>After download, open the file <code>petra.apk</code> and follow prompts.</li>
            </ul>
          </div>
          <details>
            <summary>Alternate direct link (copy/paste)</summary>
            <code>https://practicalfaith.net/petra.apk</code>
          </details>
        </div>
      </div>

      <footer>
        <div>Â© <span id="year"></span> PracticalFaith.net â€¢ For Android only. iOS requires TestFlight or App Store distribution.</div>
      </footer>
    </div>
  </main>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js" referrerpolicy="no-referrer"></script>
  <script>
  const APK_URL = 'https://practicalfaith.net/petra.apk';

  function renderQR(){
    const container = document.getElementById('qrcode');
    if (!container) return;
    if (window.QRCode) {
      container.innerHTML = '';
      new QRCode(container, { text: APK_URL, width:210, height:210, correctLevel: QRCode.CorrectLevel.M });
    } else {
      // Fallback: static PNG QR from public API (no JS lib required)
      const img = new Image();
      img.width = 210; img.height = 210; img.alt = 'QR code to download PETRA APK';
      img.src = 'https://api.qrserver.com/v1/create-qr-code/?size=210x210&data=' + encodeURIComponent(APK_URL);
      container.innerHTML = '';
      container.appendChild(img);
    }
  }

  // Keep button/link in sync
  const btn = document.getElementById('downloadBtn');
  if (btn) btn.setAttribute('href', APK_URL);

  const y = document.getElementById('year');
  if (y) y.textContent = new Date().getFullYear();

  // Render immediately and once again after window load (covers CDN timing)
  renderQR();
  window.addEventListener('load', renderQR);
</script>
</body>
</html>
